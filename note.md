# AHC014
## 2022.09.17
- 問題を読んで虚無解を提出、正の点数をとる

## 2022.09.26 Mon
- これまで放置していた（tweetdeck で観察だけしてた）
- 虚無解 +α くらいはやりたいなという気分になり、重い腰を上げて作業ディレクトリを作成
- 軽く考察
    - 格子点上に置かれた印
    - 印3つに1つ印を加えて長方形を作る
    - 得点
        - 印をたくさん加えると高得点が得られる
        - 中心から離れた格子点の印ほど高得点が得られる
    - 印をおく条件
        1. p_1~4_ をこの順番に結ぶと軸に平行、もしくは45度傾いた長方形となる。
        2. この長方形の外周上には p_1~4 以外に印の付いた格子点は存在しない。
        3. この長方形の外周は、既に方眼紙に描かれている長方形の外周と正の長さの共通部分を持たない(いくつかの点で交わることは許される)。
    - 問題情報
        - 入力の縦横の格子点の数は奇数で固定なので、「ど真ん中」に当たる格子点がある。
        - 「ど真ん中」の重みが 1点で、そこからマンハッタン距離で重みが定まる
    - 所感
        - 長方形を描くときに、既存の印を跨いではいけない、というのは、対応できそう
        - 長方形どうしが辺を共有してはいけないというのが、やっかいそう
        - 点数計算のロジックを使えればわかるかも？
            - lib.rs の compute_score あたり
- 少しだけ（のつもりが割とたくさん）実装
    - struct Input を、テストツールを参考に作成
    - struct Status を、テストツールを参考に作成
        - constructor を実装
        - check_move, apply_move は未実装
- vector でない単純な配列の初期値を指定する方法がわからなかった。
    - 色々バグらせたので、結局 vector で書くことにした。

## 2022.09.27 Tue
- Rust のスコア計算コードを、 C++ に移植している。
- check_move と apply_move を実装し終えた。
- 動作確認に移る。テストコードが書ければよいのだけれど、 C++ のことはわからん。
- 出力するところまで作った。
    - output ようオブジェクトを作って、からのまま出力
    - 虚無解と同じだけど、進んではいる。
- 昼休憩になったら提出して text で 0 を出力した時と同じになってるか確認する。

- 昼にコードを出して、しっかり text で 0 出力した時と同じ点数になっていることを確認。

- 業後に、虚無 +α を探す実装をやった
    - はじめ、前項視点を4重で探索するコードを書いたが、実行時間が長すぎ
    - 印のついた点を探索して、それを p2 とし、8方向に対して p1, p3 が 存在するか確認して、 p0 の位置を割り出し、それに対して check, apply を実行
- 実行時エラー（p0 を割り出したときに、番外に飛び出していた）などと戦いながら、なんとか、少し高い点数を獲得。
- 517位が大量にいて、これらが 0 を出力した時の点数。
    - それに対して、提出時点で 511位だった
    - [提出](https://atcoder.jp/contests/ahc014/submissions/35198676)
    - Score: 14,342,777 (虚無解 + 2.1%)

    - 出力 0、つまり、1つも有効な手が見つからなかったというパターンが少なからず確認されたのが謎。
    